
<div class="max-w-6xl mx-auto">
    <div class="flex items-center justify-between mb-8">
        <h1 class="text-2xl text-neutral-800">Welcome to Ultima Robotics</h1>
        <div class="flex items-center space-x-4">
            <button id="auto-refresh-toggle" class="text-sm text-neutral-500 hover:text-neutral-700 flex items-center space-x-1 px-3 py-1 rounded border border-neutral-300 hover:bg-neutral-50 transition-colors" title="Toggle automatic refresh">
                <i class="fa-solid fa-clock" id="auto-refresh-icon"></i>
                <span id="auto-refresh-text">Auto</span>
            </button>
            <button id="refresh-data-btn" class="text-sm text-neutral-500 hover:text-neutral-700 flex items-center space-x-1 px-3 py-1 rounded border border-neutral-300 hover:bg-neutral-50 transition-colors">
                <i class="fa-solid fa-refresh" id="refresh-icon"></i>
                <span>Refresh</span>
            </button>
            <span class="text-sm text-neutral-500" data-last-login></span>
            <div id="update-indicator" class="flex items-center space-x-1 text-xs text-neutral-400">
                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse" id="status-dot"></div>
                <span data-last-update></span>
            </div>
        </div>
    </div>

    <!-- System Stats Section -->
    <div class="system p-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div class="bg-gradient-to-br from-neutral-50 to-neutral-100 border border-neutral-200 rounded-lg p-4">
                <div class="cpu flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <i class="text-neutral-600 fa-solid fa-gauge-high"></i>
                        <span class="text-neutral-800">CPU Usage</span>
                    </div>
                    <span class="text-2xl text-neutral-600" data-cpu-usage>0%</span>
                </div>
                <div class="w-full bg-neutral-200 rounded-full h-3 mb-2">
                    <div class="bg-neutral-500 h-3 rounded-full" data-cpu-progress style="width: 0%"></div>
                </div>
                <div class="text-xs text-neutral-600 space-y-1">
                    <div class="flex justify-between">
                        <span data-cpu-cores>0 Cores</span>
                        <span data-cpu-temp>0°C</span>
                    </div>
                    <div class="flex justify-between">
                        <span data-cpu-base-clock>0 GHz</span>
                        <span data-cpu-boost-clock>0 GHz</span>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-neutral-50 to-neutral-100 border border-neutral-200 rounded-lg p-4">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <i class="text-neutral-600 fa-solid fa-memory"></i>
                        <span class="text-neutral-800">RAM Usage</span>
                    </div>
                    <span class="text-2xl text-neutral-600" data-ram-usage>0%</span>
                </div>
                <div class="w-full bg-neutral-200 rounded-full h-3 mb-2">
                    <div class="bg-neutral-500 h-3 rounded-full" data-ram-progress style="width: 0%"></div>
                </div>
                <div class="text-xs text-neutral-600 space-y-1">
                    <div class="flex justify-between">
                        <span data-ram-used>0 GB</span>
                        <span data-ram-total>0 GB</span>
                    </div>
                    <div class="flex justify-between">
                        <span data-ram-available>0 GB</span>
                        <span data-ram-type>N/A</span>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-neutral-50 to-neutral-100 border border-neutral-200 rounded-lg p-4">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <i class="text-neutral-600 fa-solid fa-hard-drive"></i>
                        <span class="text-neutral-800">Swap Usage</span>
                    </div>
                    <span class="text-2xl text-neutral-600" data-swap-usage>0%</span>
                </div>
                <div class="w-full bg-neutral-200 rounded-full h-3 mb-2">
                    <div class="bg-neutral-500 h-3 rounded-full" data-swap-progress style="width: 0%"></div>
                </div>
                <div class="text-xs text-neutral-600 space-y-1">
                    <div class="flex justify-between">
                        <span data-swap-used>0 MB</span>
                        <span data-swap-total>0 GB</span>
                    </div>
                    <div class="flex justify-between">
                        <span data-swap-available>0 GB</span>
                        <span data-swap-priority>Normal</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Network Status Section -->
    <div class="p-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div class="bg-gradient-to-br from-neutral-50 to-neutral-100 border border-neutral-200 rounded-lg p-4">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <i class="text-neutral-600 fa-solid fa-globe"></i>
                        <span class="text-neutral-800">Internet</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-neutral-500 rounded-full" data-internet-indicator></div>
                        <span class="text-sm text-neutral-600" data-internet-status>Unknown</span>
                    </div>
                </div>
                <div class="text-xs text-neutral-600 space-y-1">
                    <div class="flex justify-between">
                        <span>External IP:</span>
                        <span data-external-ip>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>DNS Primary:</span>
                        <span data-dns-primary>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>DNS Secondary:</span>
                        <span data-dns-secondary>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Latency:</span>
                        <span class="text-neutral-600" data-latency>0 ms</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Bandwidth:</span>
                        <span data-bandwidth>N/A</span>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-neutral-50 to-neutral-100 border border-neutral-200 rounded-lg p-4">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <i class="text-neutral-600 fa-solid fa-server"></i>
                        <span class="text-neutral-800">Ultima Server</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-neutral-500 rounded-full" data-server-indicator></div>
                        <span class="text-sm text-neutral-600" data-server-status>Unknown</span>
                    </div>
                </div>
                <div class="text-xs text-neutral-600 space-y-1">
                    <div class="flex justify-between">
                        <span>Server:</span>
                        <span data-server-hostname>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Port:</span>
                        <span data-server-port>0</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Protocol:</span>
                        <span data-server-protocol>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Last Ping:</span>
                        <span class="text-neutral-600" data-last-ping>0 ms</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Session:</span>
                        <span data-session-duration>N/A</span>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-neutral-50 to-neutral-100 border border-neutral-200 rounded-lg p-4">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <i class="text-neutral-600 fa-solid fa-ethernet"></i>
                        <span class="text-neutral-800">Connection Type</span>
                    </div>
                    <div class="text-sm text-neutral-600" data-connection-type>Unknown</div>
                </div>
                <div class="text-xs text-neutral-600 space-y-1">
                    <div class="flex justify-between">
                        <span>Interface:</span>
                        <span data-interface-name>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>MAC Address:</span>
                        <span data-mac-address>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Local IP:</span>
                        <span data-local-ip>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Gateway:</span>
                        <span data-gateway-ip>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Speed:</span>
                        <span data-connection-speed>N/A</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile/Cellular Status Section -->
    <div class="p-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div class="bg-gradient-to-br from-neutral-50 to-neutral-100 border border-neutral-200 rounded-lg p-4">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <i class="text-neutral-600 fa-solid fa-signal"></i>
                        <span class="text-neutral-800">Signal Strength</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <div class="flex items-center space-x-1" data-signal-bars>
                            <div class="w-1 h-3 bg-neutral-300 rounded"></div>
                            <div class="w-1 h-4 bg-neutral-300 rounded"></div>
                            <div class="w-1 h-5 bg-neutral-300 rounded"></div>
                            <div class="w-1 h-6 bg-neutral-300 rounded"></div>
                        </div>
                        <span class="text-sm text-neutral-500" data-signal-status>No Signal</span>
                    </div>
                </div>
                <div class="text-xs text-neutral-600 space-y-1">
                    <div class="flex justify-between">
                        <span>RSSI:</span>
                        <span class="text-neutral-600" data-rssi>0 dBm</span>
                    </div>
                    <div class="flex justify-between">
                        <span>RSRP:</span>
                        <span class="text-neutral-600" data-rsrp>0 dBm</span>
                    </div>
                    <div class="flex justify-between">
                        <span>RSRQ:</span>
                        <span class="text-neutral-600" data-rsrq>0 dB</span>
                    </div>
                    <div class="flex justify-between">
                        <span>SINR:</span>
                        <span class="text-neutral-600" data-sinr>0 dB</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Cell ID:</span>
                        <span class="text-neutral-500" data-cell-id>N/A</span>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-br from-neutral-50 to-neutral-100 border border-neutral-200 rounded-lg p-4">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center space-x-2">
                        <i class="text-neutral-600 fa-solid fa-mobile-screen-button"></i>
                        <span class="text-neutral-800">Connection Status</span>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-neutral-400 rounded-full" data-cellular-indicator></div>
                        <span class="text-sm text-neutral-600" data-cellular-status>Disconnected</span>
                    </div>
                </div>
                <div class="text-xs text-neutral-600 space-y-1">
                    <div class="flex justify-between">
                        <span>Network:</span>
                        <span class="text-neutral-500" data-network-name>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Technology:</span>
                        <span class="text-neutral-500" data-technology>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Band:</span>
                        <span class="text-neutral-500" data-band>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>APN:</span>
                        <span class="text-neutral-500" data-apn>N/A</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Data Usage:</span>
                        <span class="text-neutral-500" data-data-usage>0 MB</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions Section -->
    <div id="quick-actions" class="mb-8">
        <h2 class="text-lg text-neutral-800 mb-4">Quick Actions</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
            <div id="cellular-cnfg-btn" class="action-card bg-white rounded-lg border border-neutral-200 p-5 hover:shadow-md transition-shadow cursor-pointer">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center">
                        <i class="fa-solid fa-plus text-neutral-600"></i>
                    </div>
                    <i class="fa-solid fa-arrow-right text-neutral-400"></i>
                </div>
                <h3 class="text-sm text-neutral-800">Configure Cellular</h3>
                <p class="text-xs text-neutral-500 mt-1">Manage 5G/LTE configuration</p>
            </div>

            <div id="network-scan-btn" class="action-card bg-white rounded-lg border border-neutral-200 p-5 hover:shadow-md transition-shadow cursor-pointer">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center">
                        <i class="fa-solid fa-wifi text-neutral-600"></i>
                    </div>
                    <i class="fa-solid fa-arrow-right text-neutral-400"></i>
                </div>
                <h3 class="text-sm text-neutral-800">Network Scan</h3>
                <p class="text-xs text-neutral-500 mt-1">Discover devices on your network</p>
            </div>

            <div id="update-firmware-btn" class="action-card bg-white rounded-lg border border-neutral-200 p-5 hover:shadow-md transition-shadow cursor-pointer">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center">
                        <i class="fa-solid fa-download text-neutral-600"></i>
                    </div>
                    <i class="fa-solid fa-arrow-right text-neutral-400"></i>
                </div>
                <h3 class="text-sm text-neutral-800">Update Firmware</h3>
                <p class="text-xs text-neutral-500 mt-1">Keep your devices up to date</p>
            </div>

            <div id="backup-config-btn" class="action-card bg-white rounded-lg border border-neutral-200 p-5 hover:shadow-md transition-shadow cursor-pointer">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center">
                        <i class="fa-solid fa-shield text-neutral-600"></i>
                    </div>
                    <i class="fa-solid fa-arrow-right text-neutral-400"></i>
                </div>
                <h3 class="text-sm text-neutral-800">Backup Config</h3>
                <p class="text-xs text-neutral-500 mt-1">Save your current configuration</p>
            </div>
        </div>
    </div>

    <!-- Quick Start and Tutorials Section -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <div id="quick-start" class="bg-white rounded-lg border border-neutral-200 p-6">
            <div class="flex items-center mb-4">
                <i class="fa-solid fa-rocket text-neutral-700 text-xl mr-3"></i>
                <h2 class="text-xl text-neutral-800">Quick Start</h2>
            </div>
            <p class="text-neutral-600 mb-6">Get started with Ultima Robotics platform in just a few steps.</p>
            <div class="space-y-4">
                <div class="flex items-start">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-neutral-200 flex items-center justify-center">
                        <span class="text-neutral-700">1</span>
                    </div>
                    <div class="ml-4">
                        <h3 class="text-sm text-neutral-800">Connect your first device</h3>
                        <p class="text-sm text-neutral-600">Configure your robot and connect it to the network.</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-neutral-200 flex items-center justify-center">
                        <span class="text-neutral-700">2</span>
                    </div>
                    <div class="ml-4">
                        <h3 class="text-sm text-neutral-800">Set up your workspace</h3>
                        <p class="text-sm text-neutral-600">Configure your dashboard and preferences.</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-neutral-200 flex items-center justify-center">
                        <span class="text-neutral-700">3</span>
                    </div>
                    <div class="ml-4">
                        <h3 class="text-sm text-neutral-800">Create your first automation</h3>
                        <p class="text-sm text-neutral-600">Set up routines and automated tasks for your robots.</p>
                    </div>
                </div>
            </div>
            <button id="setup-wizard-btn" class="mt-6 w-full bg-neutral-800 hover:bg-neutral-900 text-white py-2 px-4 rounded-md text-sm">
                Start Setup Wizard
            </button>
        </div>

        <div id="tutorials" class="bg-white rounded-lg border border-neutral-200 p-6">
            <div class="flex items-center mb-4">
                <i class="fa-solid fa-play-circle text-neutral-700 text-xl mr-3"></i>
                <h2 class="text-xl text-neutral-800">Watch Tutorials</h2>
            </div>
            <p class="text-neutral-600 mb-6">Learn how to use Ultima Robotics platform with our video guides.</p>
            <div class="space-y-4">
                <div class="border border-neutral-200 rounded-md overflow-hidden">
                    <div class="bg-neutral-700 h-32 flex items-center justify-center">
                        <i class="fa-solid fa-play text-white text-3xl"></i>
                    </div>
                    <div class="p-3">
                        <h3 class="text-sm text-neutral-800">Getting Started with Ultima Robotics</h3>
                        <p class="text-xs text-neutral-500">5:32 min</p>
                    </div>
                </div>
                <div class="flex items-center justify-between">
                    <span id="view-tutorials-btn" class="text-sm text-neutral-600 hover:text-neutral-900 flex items-center cursor-pointer">
                        <i class="fa-solid fa-list mr-2"></i>
                        View all tutorials
                    </span>
                    <span id="documentation-btn" class="text-sm text-neutral-600 hover:text-neutral-900 flex items-center cursor-pointer">
                        <i class="fa-solid fa-book mr-2"></i>
                        Documentation
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="module" src="./landing/main.js"></script>
<!-- Legacy embedded script removed - functionality moved to modular structure -->
<!--
<script>
(function() {
    'use strict';

    console.log('[LANDING-SECTION] Landing section with WebSocket backend initializing...');

    // Data storage
    let systemData = {
        system_status: {},
        network_status: {},
        server_status: {},
        firmware_info: {},
        alerts: []
    };

    // Configuration
    const CONFIG = {
        WEBSOCKET_URL: 'ws://localhost:8765',
        AUTO_REFRESH_INTERVAL: 30000, // 30 seconds
        RECONNECT_DELAY: 5000,
        MAX_RECONNECT_ATTEMPTS: 10
    };

    // State management
    let state = {
        websocket: null,
        connected: false,
        reconnectAttempts: 0,
        autoRefreshEnabled: true,
        lastUpdate: null
    };

    // WebSocket Manager
    class WebSocketManager {
        constructor(url) {
            this.url = url;
            this.callbacks = new Map();
            this.reconnectTimer = null;
        }

        connect() {
            try {
                console.log('[WEBSOCKET] Connecting to:', this.url);
                state.websocket = new WebSocket(this.url);
                
                state.websocket.onopen = () => {
                    console.log('[WEBSOCKET] Connected to backend');
                    state.connected = true;
                    state.reconnectAttempts = 0;
                    this.updateConnectionStatus(true);
                    
                    // Request initial data
                    this.sendMessage({
                        type: 'get_data'
                    });
                };

                state.websocket.onmessage = (event) => {
                    try {
                        const message = JSON.parse(event.data);
                        console.log('[WEBSOCKET] Message received:', message.type);
                        this.handleMessage(message);
                    } catch (error) {
                        console.error('[WEBSOCKET] Error parsing message:', error);
                    }
                };

                state.websocket.onclose = () => {
                    console.log('[WEBSOCKET] Disconnected from backend');
                    state.connected = false;
                    this.updateConnectionStatus(false);
                    this.scheduleReconnect();
                };

                state.websocket.onerror = (error) => {
                    console.error('[WEBSOCKET] Connection error:', error);
                    state.connected = false;
                    this.updateConnectionStatus(false);
                };

            } catch (error) {
                console.error('[WEBSOCKET] Failed to connect:', error);
                this.scheduleReconnect();
            }
        }

        sendMessage(message) {
            if (state.connected && state.websocket.readyState === WebSocket.OPEN) {
                state.websocket.send(JSON.stringify(message));
                console.log('[WEBSOCKET] Message sent:', message.type);
            } else {
                console.warn('[WEBSOCKET] Cannot send message - not connected');
            }
        }

        handleMessage(message) {
            const { type, data, timestamp } = message;

            switch (type) {
                case 'initial_data':
                case 'data_response':
                    systemData = data;
                    updateAllUI();
                    state.lastUpdate = new Date();
                    break;

                case 'data_update':
                case 'periodic_update':
                    systemData = { ...systemData, ...data };
                    updateAllUI();
                    state.lastUpdate = new Date();
                    break;

                case 'server_status_update':
                    systemData.server_status = data;
                    updateServerStatusUI();
                    break;

                case 'system_notification':
                    showNotification(message.message, message.level);
                    break;

                default:
                    console.log('[WEBSOCKET] Unknown message type:', type);
            }

            // Update last update timestamp
            updateLastUpdateTime(timestamp);
        }

        scheduleReconnect() {
            if (state.reconnectAttempts < CONFIG.MAX_RECONNECT_ATTEMPTS) {
                state.reconnectAttempts++;
                console.log(`[WEBSOCKET] Scheduling reconnect attempt ${state.reconnectAttempts}/${CONFIG.MAX_RECONNECT_ATTEMPTS}`);
                
                this.reconnectTimer = setTimeout(() => {
                    this.connect();
                }, CONFIG.RECONNECT_DELAY);
            } else {
                console.error('[WEBSOCKET] Max reconnect attempts reached');
                showNotification('Lost connection to backend. Please refresh the page.', 'error');
            }
        }

        updateConnectionStatus(connected) {
            const statusDot = document.getElementById('status-dot');
            const refreshBtn = document.getElementById('refresh-data-btn');
            
            if (statusDot) {
                if (connected) {
                    statusDot.className = 'w-2 h-2 bg-green-500 rounded-full animate-pulse';
                } else {
                    statusDot.className = 'w-2 h-2 bg-red-500 rounded-full';
                }
            }
            
            if (refreshBtn) {
                if (connected) {
                    refreshBtn.disabled = false;
                    refreshBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                } else {
                    refreshBtn.disabled = true;
                    refreshBtn.classList.add('opacity-50', 'cursor-not-allowed');
                }
            }
        }

        disconnect() {
            if (this.reconnectTimer) {
                clearTimeout(this.reconnectTimer);
            }
            
            if (state.websocket) {
                state.websocket.close();
                state.websocket = null;
            }
            
            state.connected = false;
            this.updateConnectionStatus(false);
        }
    }

    // Initialize WebSocket manager
    const wsManager = new WebSocketManager(CONFIG.WEBSOCKET_URL);

    // UI Update Functions
    function updateAllUI() {
        updateSystemStatusUI();
        updateNetworkStatusUI();
        updateServerStatusUI();
        updateFirmwareInfoUI();
        updateAlertsUI();
    }

    function updateSystemStatusUI() {
        const systemStatus = systemData.system_status || {};
        
        // CPU Usage
        updateMetric('cpu-usage', systemStatus.cpu_usage, '%');
        updateProgressBar('cpu-progress', systemStatus.cpu_usage);
        updateElement('cpu-temp', systemStatus.temperature, '°C');
        
        // Memory Usage
        updateMetric('ram-usage', systemStatus.memory_usage, '%');
        updateProgressBar('ram-progress', systemStatus.memory_usage);
        
        // Disk Usage
        updateMetric('swap-usage', systemStatus.disk_usage, '%');
        updateProgressBar('swap-progress', systemStatus.disk_usage);
        
        // Uptime
        updateElement('uptime', systemStatus.uptime);
    }

    function updateNetworkStatusUI() {
        const networkStatus = systemData.network_status || {};
        
        // Internet Status
        const internetConnected = networkStatus.wired?.status === 'connected' || 
                                 networkStatus.wireless?.status === 'connected';
        updateConnectionIndicator('internet-indicator', 'internet-status', internetConnected);
        
        // External IP (using wired connection IP as example)
        updateElement('external-ip', networkStatus.wired?.ip || 'N/A');
        
        // DNS
        const dns = networkStatus.wired?.dns || '';
        const dnsParts = dns.split(', ');
        updateElement('dns-primary', dnsParts[0] || 'N/A');
        updateElement('dns-secondary', dnsParts[1] || 'N/A');
        
        // Server Status
        const serverConnected = networkStatus.wired?.status === 'connected';
        updateConnectionIndicator('server-indicator', 'server-status', serverConnected);
        updateElement('server-hostname', networkStatus.wired?.ip || 'N/A');
        
        // Cellular Status
        const cellularConnected = networkStatus.cellular?.status === 'connected';
        updateConnectionIndicator('cellular-indicator', 'cellular-status', cellularConnected);
        updateElement('cellular-operator', networkStatus.cellular?.operator || 'N/A');
        updateElement('cellular-signal', networkStatus.cellular?.signal_strength || 0);
    }

    function updateServerStatusUI() {
        const serverStatus = systemData.server_status || {};
        
        updateElement('total-servers', serverStatus.total_servers || 0);
        updateElement('online-servers', serverStatus.online_servers || 0);
        updateElement('offline-servers', serverStatus.offline_servers || 0);
        
        // Update server list if it exists
        const serverList = document.querySelector('[data-server-list]');
        if (serverList && serverStatus.servers) {
            // Update server list UI here if needed
            console.log('[UI] Server data updated:', serverStatus.servers.length, 'servers');
        }
    }

    function updateFirmwareInfoUI() {
        const firmwareInfo = systemData.firmware_info || {};
        
        updateElement('firmware-version', firmwareInfo.current_version);
        updateElement('build-number', firmwareInfo.build_number);
        updateElement('device-model', firmwareInfo.device_model);
        updateElement('hardware-revision', firmwareInfo.hardware_revision);
    }

    function updateAlertsUI() {
        const alerts = systemData.alerts || [];
        const alertCount = document.querySelector('[data-alert-count]');
        
        if (alertCount) {
            const unacknowledgedCount = alerts.filter(alert => !alert.acknowledged).length;
            alertCount.textContent = unacknowledgedCount;
        }
    }

    // Helper Functions
    function updateMetric(elementId, value, suffix = '') {
        const element = document.querySelector(`[data-${elementId}]`);
        if (element && value !== undefined) {
            element.textContent = `${Math.round(value)}${suffix}`;
        }
    }

    function updateProgressBar(elementId, value) {
        const element = document.querySelector(`[data-${elementId}]`);
        if (element && value !== undefined) {
            element.style.width = `${Math.min(100, Math.max(0, value))}%`;
            
            // Update color based on value
            element.className = 'h-3 rounded-full transition-all duration-300';
            if (value > 80) {
                element.classList.add('bg-red-500');
            } else if (value > 60) {
                element.classList.add('bg-yellow-500');
            } else {
                element.classList.add('bg-green-500');
            }
        }
    }

    function updateElement(elementId, value) {
        const element = document.querySelector(`[data-${elementId}]`);
        if (element && value !== undefined) {
            element.textContent = value;
        }
    }

    function updateConnectionIndicator(indicatorId, statusId, connected) {
        const indicator = document.querySelector(`[data-${indicatorId}]`);
        const status = document.querySelector(`[data-${statusId}]`);
        
        if (indicator && status) {
            if (connected) {
                indicator.className = 'w-2 h-2 bg-green-500 rounded-full';
                status.textContent = 'Connected';
                status.className = 'text-sm text-green-600';
            } else {
                indicator.className = 'w-2 h-2 bg-red-500 rounded-full';
                status.textContent = 'Disconnected';
                status.className = 'text-sm text-red-600';
            }
        }
    }

    function updateLastUpdateTime(timestamp) {
        const lastUpdateElement = document.querySelector('[data-last-update]');
        if (lastUpdateElement && timestamp) {
            const date = new Date(timestamp);
            lastUpdateElement.textContent = `Last update: ${date.toLocaleTimeString()}`;
        }
    }

    function showNotification(message, level = 'info') {
        // Simple notification implementation
        console.log(`[NOTIFICATION] ${level.toUpperCase()}: ${message}`);
        // You could implement a toast notification here
    }

    // Event Handlers
    function setupEventHandlers() {
        // Refresh button
        const refreshBtn = document.getElementById('refresh-data-btn');
        if (refreshBtn) {
            refreshBtn.addEventListener('click', () => {
                if (state.connected) {
                    wsManager.sendMessage({ type: 'get_data' });
                }
            });
        }

        // Auto-refresh toggle
        const autoRefreshToggle = document.getElementById('auto-refresh-toggle');
        if (autoRefreshToggle) {
            autoRefreshToggle.addEventListener('click', () => {
                state.autoRefreshEnabled = !state.autoRefreshEnabled;
                const icon = document.getElementById('auto-refresh-icon');
                const text = document.getElementById('auto-refresh-text');
                
                if (state.autoRefreshEnabled) {
                    icon.className = 'fa-solid fa-clock text-green-600';
                    text.textContent = 'Auto';
                    autoRefreshToggle.classList.add('bg-green-50', 'border-green-300');
                } else {
                    icon.className = 'fa-solid fa-clock text-neutral-500';
                    text.textContent = 'Manual';
                    autoRefreshToggle.classList.remove('bg-green-50', 'border-green-300');
                }
            });
        }

        // Server refresh button (if exists)
        const serverRefreshBtn = document.getElementById('refresh-servers-btn');
        if (serverRefreshBtn) {
            serverRefreshBtn.addEventListener('click', () => {
                if (state.connected) {
                    wsManager.sendMessage({ type: 'refresh_servers' });
                }
            });
        }
    }

    // Auto-refresh functionality
    function startAutoRefresh() {
        if (state.autoRefreshEnabled && state.connected) {
            setInterval(() => {
                if (state.autoRefreshEnabled && state.connected) {
                    wsManager.sendMessage({ type: 'get_data' });
                }
            }, CONFIG.AUTO_REFRESH_INTERVAL);
        }
    }

    // Initialize
    function init() {
        console.log('[LANDING-SECTION] Initializing landing section...');
        
        setupEventHandlers();
        
        // Connect to WebSocket backend
        wsManager.connect();
        
        // Start auto-refresh after connection
        setTimeout(startAutoRefresh, 1000);
        
        // Cleanup on page unload
        window.addEventListener('beforeunload', () => {
            wsManager.disconnect();
        });
    }

    // Start when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }

    console.log('[LANDING-SECTION] Landing section script loaded');
})();
</script>
    });

})();
</script>
-->
